---
import clsx from "clsx";

const {
  src,
  title = "Embedded Content",
  aspect_ratio = "golden",
  class: className,
  ...restProps
} = Astro.props;

const htmlAttributes = Object.fromEntries(
  Object.entries(restProps).filter(([key]) => !key.startsWith("_"))
);

const classNames = clsx("embed", `ratio--${aspect_ratio}`, className);
---

<iframe
  class:list={classNames}
  src={src}
  frameborder="0"
  allowfullscreen
  loading="lazy"
  title={title}
  {...htmlAttributes}></iframe>

<style>
  .embed {
    width: 100%;
    height: 100%;
  }
</style>
